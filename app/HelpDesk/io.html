<form name="cookieform" action="#">
    <p>
        Entrez la valeur du cookie : <input name="cookievalue" />
    </p>
</form>

<p><a href="javascript:saveIt('ppkcookie1')" class="page">Cr&eacute;er cookie 1</a><br />
    <a href="javascript:readIt('ppkcookie1')" class="page">Lire cookie 1</a><br />
    <a href="javascript:eraseIt('ppkcookie1')" class="page">Supprimer cookie 1</a>.</p>

<p><a href="javascript:saveIt('ppkcookie2')" class="page">Cr&eacute;er cookie 2</a><br />
    <a href="javascript:readIt('ppkcookie2')" class="page">Lire cookie 2</a><br />

    <a href="javascript:eraseIt('ppkcookie2')" class="page">Supprimer cookie 2</a>.</p>

<p>Pour tester, lisez
    <a class="page" href="javascript:alert('document.cookie is now\n' + document.cookie);">document.cookie</a>.</p>

<hr />
<p><a href="/tutoriels/javascript/gestion-cookies-javascript/#LIV">Retour au tutoriel</a></p>
<hr />
<script type='text/javascript'>
    <!--
    var Cookies = {
        init: function() {
            var allCookies = document.cookie.split('; ');
            for (var i = 0; i < allCookies.length; i++) {
                var cookiePair = allCookies[i].split('=');
                this[cookiePair[0]] = cookiePair[1];
            }
        },
        create: function(name, value, days) {
            if (days) {
                var date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                var expires = "; expires=" + date.toGMTString();
            } else var expires = "";
            document.cookie = name + "=" + value + expires + "; path=/";
            this[name] = value;
        },
        erase: function(name) {
            this.create(name, '', -1);
            this[name] = undefined;
        }
    };
    Cookies.init();

    function saveIt(name) {
        var x = document.forms['cookieform'].cookievalue.value;
        if (!x)
            alert('Merci d\'entrer une valeur dans la zone de texte.');
        else {
            Cookies.create(name, x, 7);
            alert('Cookie cr&eacute;&eacute;');
        }
    }

    function readIt(name) {
        alert('La valeur du cookie est : ' + Cookies[name]);
    }

    function eraseIt(name) {
        Cookies.erase(name);
        alert('Cookie effac&eacute;');
    }

    var init = function() {
        for (var i = 1; i < 3; i++) {
            var x = Cookies['ppkcookie' + i];
            if (x) alert('Le cookie ppkcookie' + i + '\nque vous avez cr&eacute;&eacute; lors d\'une pr&eacute;c&eacute;dente visite est toujours actif.\nSa valeur est : ' + x);
        }
    }()
    // -->
</script>
